{"version":3,"sources":["containers/Search/index.tsx","containers/Search/style.module.sass","containers/ProductRow/style.module.sass","components/ProductCard/style.module.sass","components/Spinner/style.module.sass","components/Button/style.module.sass","utilities/index.ts","components/Spinner/index.tsx","components/ProductCard/index.tsx","components/Button/index.tsx","containers/ProductRow/index.tsx","views/category/style.module.sass","views/category/index.tsx"],"names":["Search","className","styles","wrapper","type","placeholder","micro","xlinkHref","qr","search","module","exports","FormatObject","Intl","NumberFormat","style","currency","minimumFractionDigits","Spinner","lineScale","ProductCard","label","name","params","price","rate","image","imgHeight","width","useContext","MainContext","useState","isImageLoaded","setImageLoaded","useInView","triggerOnce","ref","inView","useEffect","img","Image","src","onload","value","imgStyle","height","solo","getType","isLoading","alt","undefined","descContainer","info","empty","format","rating","addToBasket","RoundedButton","children","roundedButton","purple","Plus","plus","ProductRow","products","buttonType","viewType","Fragment","map","key","more","moreButton","buyButton","button","ProductsData","getData","Promise","resolve","setTimeout","CategoryPage","data","setData","setIsLoading","isInited","setIsInited","setViewType","loadData","a","loadedData","prevData","then","response","margin","initialOffset","viewAndSort","input","view","onClick","first","second","third","fourth","rootMargin","as","onChange","loader","spinner"],"mappings":"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","file":"static/js/4.0bde0bbb.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './style.module.sass';\r\n\r\n\r\nconst Search : React.FC = () => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <input type=\"text\" placeholder=\"Поиск\"/>\r\n            <svg className={styles.micro}>\r\n                <use xlinkHref=\"/sprite.svg#micro\" />\r\n            </svg>\r\n            <svg className={styles.qr}>\r\n                <use xlinkHref=\"/sprite.svg#qr\" />\r\n            </svg>\r\n            <svg className={styles.search}>\r\n                <use xlinkHref=\"/sprite.svg#search1\" />\r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__386Tj\",\"micro\":\"style_micro__3Bnsx\",\"qr\":\"style_qr__3LhqE\",\"search\":\"style_search__3OGQi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"style_top__2MswD\",\"name\":\"style_name__rtf1H\",\"wrapper\":\"style_wrapper__3OwyV\",\"products\":\"style_products__1tVUG\",\"topSlider\":\"style_topSlider__3SlGj\",\"topSliderItem\":\"style_topSliderItem__UVWbN\",\"title\":\"style_title__2h83q\",\"description\":\"style_description__3hTjb\",\"image\":\"style_image__2QT3u\",\"buyButton\":\"style_buyButton__2ShQR\",\"more\":\"style_more__3ZlNs\",\"moreButton\":\"style_moreButton__-tI8l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__J2Dya\",\"addToBasket\":\"style_addToBasket__1J6mQ\",\"image\":\"style_image__3U_yK\",\"rating\":\"style_rating__3jhx3\",\"rating-upper\":\"style_rating-upper__Q13o3\",\"rating-lower\":\"style_rating-lower__1O85a\",\"info\":\"style_info__1GhBs\",\"label\":\"style_label__XfjQk\",\"name\":\"style_name__OeLse\",\"params\":\"style_params__1dqOf\",\"price\":\"style_price__2IQXy\",\"empty\":\"style_empty__cjYYJ\",\"isLoading\":\"style_isLoading__3LlE7\",\"solo\":\"style_solo__rslaw\",\"descContainer\":\"style_descContainer__fwk67\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineScale\":\"style_lineScale__QcnND\",\"line-scale\":\"style_line-scale__2E6oS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"roundedButton\":\"style_roundedButton__2nDLk\",\"purple\":\"style_purple__2WqrE\",\"plus\":\"style_plus__2tacd\"};","const FormatObject = new Intl.NumberFormat('ru-RU', {\r\n    style: 'currency',\r\n    currency: 'RUB',\r\n    minimumFractionDigits: 0,\r\n});\r\n  \r\n  \r\n/**\r\n * Format number to currency format\r\n * @param value number that should be formatted\r\n * @return {string} formatted price\r\n * @example  1000 > 1 000 ₽\r\n */\r\nexport function formatPrice(value: number): string {\r\n    return FormatObject.format(value);\r\n}\r\n  ","import React from 'react';\r\nimport styles from './style.module.sass'\r\n\r\ninterface Props {\r\n    className?: string;\r\n}\r\n\r\nconst Spinner : React.FC<Props> = ({className}) => {\r\n    return (\r\n        <div className={`${styles.lineScale} ${className || ''}` }>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;","import React, { useContext,useEffect,useState } from 'react';\r\nimport styles from './style.module.sass';\r\nimport {formatPrice} from '@utilities/index'\r\nimport Product from '@models/Product';\r\nimport MainContext from '@components/context';\r\nimport Spinner from '@components/Spinner';\r\nimport { useInView } from 'react-intersection-observer';\r\n\r\n\r\n\r\nconst ProductCard : React.FC<Product & {type : string}> = ({label,name,params,price,rate,image,type,imgHeight}) => {\r\n    const width = useContext(MainContext);\r\n    const [isImageLoaded,setImageLoaded] = useState(false);\r\n  \r\n    const [ref, inView] = useInView({triggerOnce: true})\r\n    useEffect(()=>{\r\n        if(inView) {\r\n            const img = new Image();\r\n            img.src = image;\r\n            img.onload = ()=>{\r\n                setImageLoaded(true);\r\n            }\r\n        }\r\n    },[inView,image])\r\n    \r\n    const getType = () => {\r\n        switch(type) {\r\n            case 'default':\r\n                return '';\r\n            case 'solo': \r\n                return styles.solo;    \r\n        }\r\n    }\r\n\r\n    const imgStyle = imgHeight && type==='default'? {height : imgHeight} : {}\r\n    return (\r\n        <div ref={ref} className={`${styles.wrapper} ${getType()}` }>\r\n            <div style={imgStyle} className={`${styles.image} ${!isImageLoaded && styles.isLoading}`}>\r\n                {isImageLoaded ? <img src={image} alt=\"\"/> : (inView?  <Spinner/> : undefined)}\r\n            </div>\r\n            <div className={styles.descContainer}>\r\n                <div className={styles.info}>\r\n                    <span className={styles.label}>{label}</span>\r\n                    <span className={styles.name}>{name}</span>\r\n                    <span className={`${styles.params} ${!params ? styles.empty : ''}`}>{params || <br/>}</span>\r\n                    <span className={styles.price}>{formatPrice(price)}</span>\r\n                </div>\r\n                <div className={styles.rating}>\r\n                    <div className={styles['rating-upper']} style={{width: `${rate*100}%`}}>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                    </div>\r\n                    <div className={styles['rating-lower']}>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                        <span>★</span>\r\n                    </div>\r\n                </div>\r\n                {width < 768 ? <button className={styles.addToBasket}>В корзину</button> : undefined}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default ProductCard;","import React from 'react';\r\nimport styles from './style.module.sass';\r\n\r\ninterface RoundedButtonProps {\r\n    className?: string;\r\n}\r\nexport const RoundedButton : React.FC<RoundedButtonProps> = ({className,children}) => {\r\n    return (\r\n        <button className={`${styles.roundedButton} ${styles.purple} ${className || ''}` }>{children}</button>\r\n    )\r\n}\r\n\r\nexport const Plus  : React.FC = () => {\r\n    return (\r\n        <div className={`${styles.plus}`}></div>\r\n    )\r\n}","import React from 'react';\r\nimport styles from './style.module.sass';\r\nimport ProductCard from '@components/ProductCard';\r\nimport Product from '@models/Product';\r\nimport Filter from '@components/Filters';\r\nimport Link from '@models/Link';\r\nimport {RoundedButton,Plus} from '@components/Button';\r\n\r\n\r\ninterface Props {\r\n    products : Array<Product>,\r\n    buttonType? : string,\r\n    viewType?: string,\r\n}\r\n\r\nconst ProductRow : React.FC<Props> = ({children,products,buttonType = 'default',viewType='default'}) => {\r\n    const button = () => {\r\n        switch (buttonType) {\r\n            case 'plus': \r\n                return (\r\n                    <div className={styles.more}>\r\n                        <Plus/><span className={styles.moreButton}>Больше</span>\r\n                    </div>\r\n                );\r\n            case 'default':\r\n                return <RoundedButton className={styles.buyButton}>Посмотреть все товары</RoundedButton>;\r\n            case 'none':\r\n                return undefined;       \r\n        }\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            {children}\r\n            <div>\r\n                <div className={styles.wrapper}>\r\n                    <div className={styles.products}>\r\n                        {(()=>products.map((params,key)=><ProductCard type={viewType} key={key} {...params}/>))()}\r\n                    </div>\r\n                    {button()}\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ProductRow;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewAndSort\":\"style_viewAndSort__3VpEt\",\"label\":\"style_label__6sgux\",\"view\":\"style_view__3h-wr\",\"solo\":\"style_solo__16cpL\",\"second\":\"style_second__2sZXY\",\"fourth\":\"style_fourth__1SBL3\",\"first\":\"style_first__1nBj1\",\"third\":\"style_third__3buDt\",\"loader\":\"style_loader__sq5aB\",\"spinner\":\"style_spinner__2bgDu\",\"spin\":\"style_spin__2YSEv\"};","import React, { useState, useEffect } from 'react'\r\nimport styles from './style.module.sass';\r\nimport Search from '@containers/Search';\r\nimport Swiper from '@components/Swiper';\r\nimport Filter from '@components/Filters';\r\nimport ProductRow from '@containers/ProductRow';\r\nimport Product from '@models/Product';\r\nimport Loader from '@components/Loader'\r\nimport { InView } from 'react-intersection-observer'\r\n\r\n\r\nconst ProductsData : Array<Product>= [\r\n    {\r\n        label: 'Samsung Galaxy A50',\r\n        name: '128gb, 6,4”, 2340x1080 25+5+8Mp, 25Mp, 4000m',\r\n        params: '',\r\n        price: 9560,\r\n        rate: 0.9,\r\n        image: '/images/image 29.png',\r\n        imgHeight: 350\r\n    },\r\n    {\r\n        label: 'Honor 10i',\r\n        name: '128gb, 6,21”, 2340x1080 13+2+, 24Mp, 3400mAh',\r\n        params: '',\r\n        price: 2580,\r\n        rate: 0.7,\r\n        image: '/images/image 28.png',\r\n        imgHeight: 350\r\n    },\r\n    {\r\n        label: 'Apple iPhone Xr',\r\n        name: 'Apple iPhone Xr',\r\n        params: '',\r\n        price: 11250,\r\n        rate: 0.7,\r\n        image: '/images/image 30.png',\r\n        imgHeight: 350\r\n    },\r\n    {\r\n        label: 'Honor 20pro',\r\n        name: '6.26\" 2340x1080/256Gb 48+16+8+2Mp/32Mp',\r\n        params: '',\r\n        price: 8900,\r\n        rate: 0.7,\r\n        image: '/images/image 35.png',\r\n        imgHeight: 350\r\n    },\r\n    {\r\n        label: 'Honor 20pro',\r\n        name: '6.26\" 2340x1080/256Gb 48+16+8+2Mp/32Mp',\r\n        params: '',\r\n        price: 8900,\r\n        rate: 0.7,\r\n        image: '/images/image 36.png',\r\n        imgHeight: 350\r\n    },\r\n    {\r\n        label: 'Honor 20pro',\r\n        name: '6.26\" 2340x1080/256Gb 48+16+8+2Mp/32Mp',\r\n        params: '',\r\n        price: 8900,\r\n        rate: 0.7,\r\n        image: '/images/image 29.png',\r\n        imgHeight: 350\r\n    },\r\n]\r\n\r\n\r\nfunction getData() : Promise<Array<Product>> {\r\n    return new Promise(resolve => setTimeout(()=> resolve(ProductsData),2000));\r\n}\r\n\r\nconst CategoryPage : React.FC = () => {\r\n    const [data,setData] = useState([] as Array<Product>);\r\n    const [isLoading,setIsLoading] = useState(false);\r\n    const [isInited,setIsInited] = useState(false);\r\n    const [viewType,setViewType] = useState('solo')\r\n\r\n\r\n    const loadData = async (inView : boolean) => {\r\n        if(inView && !isLoading) {\r\n            setIsLoading(true);\r\n            const loadedData = await getData();\r\n            setData(prevData => [...prevData,...loadedData]);\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getData()\r\n            .then(response => {\r\n                setData(response)\r\n                setIsInited(true);\r\n            })\r\n    },[])\r\n\r\n\r\n    const handleView = ()=> {\r\n        switch(viewType){\r\n            case 'default':\r\n                setViewType('solo');\r\n                break;\r\n            case 'solo':\r\n                setViewType('default');\r\n                break;    \r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {isInited ? (\r\n                <div className=\"category\">\r\n                    <div style={{margin: '20px 10px'}}><Search/></div>\r\n                    <ProductRow buttonType='none' products={data} viewType={viewType}>\r\n                        <Filter initialOffset={10} data={[{name: 'Бюджетный'},{name: 'С мощной камерой'},{name: 'С мощной батареей'},]}/>\r\n                        <div className={styles.viewAndSort}>\r\n                            <label className={styles.label}>Сортировать по:</label>\r\n                            <span className={styles.input}>популярности</span> \r\n                            <div className={`${styles.view} ${viewType === 'solo' ? styles.solo : ''}`} onClick={handleView}>\r\n                                <div className={styles.first}/><div className={styles.second}/><div className={styles.third}/><div className={styles.fourth}/>\r\n                            </div>\r\n                        </div>\r\n                    </ProductRow>\r\n                    <InView rootMargin='300px' as=\"div\" onChange={loadData}>\r\n                        <div className={styles.loader}>\r\n                            {isLoading ?  <div className={styles.spinner}/> : undefined}\r\n                        </div>\r\n                    </InView>\r\n                </div>\r\n            ) : <Loader/>}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\nexport default CategoryPage;"],"sourceRoot":""}